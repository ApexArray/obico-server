(function(e){function t(t){for(var a,c,i=t[0],u=t[1],s=t[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={octoprint_tunnel:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/static/frontend/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=u;o.push([6,"chunk-vendors"]),n()})({"01a6":function(e,t,n){},1807:function(e,t,n){"use strict";n("99af"),n("a15b");var a=n("0b49"),r=n.n(a),o=n("dd61"),c=n.n(o);t["a"]={publicTimelapse:function(){return"/api/v1/publictimelapse/"},printShotFeedback:function(e,t){return"/api/v1/printshotfeedbacks/".concat(e,"/?print_id=").concat(t)},print:function(e){return"/api/v1/prints/".concat(e,"/")},prints:function(){return"/api/v1/prints/"},printsBulkDelete:function(){return"/api/v1/prints/bulk_delete/"},printAlertOverwrite:function(e){return"/api/v1/prints/".concat(e,"/alert_overwrite/")},printers:function(){return"/api/v1/printers/"},printer:function(e){return"/api/v1/printers/".concat(e,"/")},printerAction:function(e,t){return"/api/v1/printers/".concat(e).concat(t)},pubPrinter:function(){return"/api/v1p/printer/"},gcodes:function(e,t){return"/api/v1/gcodes/?page=".concat(e,"&page_size=").concat(t||24)},gcode:function(e){return"/api/v1/gcodes/".concat(e,"/")},tunnelUsage:function(){return"/api/v1/tunnelusage/"},verificationCode:function(){return"/api/v1/onetimeverificationcodes/"},user:function(){return"/api/v1/users/me/"},sharedResources:function(e){return"/api/v1/sharedresources/?"+c()(r()(e),(function(e){return e.join("=")})).join("&")},sharedResource:function(e){return"/api/v1/sharedresources/".concat(e,"/")},printerDiscovery:function(){return"/api/v1/printer_discovery/"},printerControl:function(e){return"/printers/".concat(e,"/control/")},printerWebSocket:function(e){return"/ws/web/".concat(e,"/")},printerSharedWebSocket:function(e){return"/ws/share_token/web/".concat(e,"/")},printerWizard:function(e){return"/printers/wizard/?printerId=".concat(e)}}},"3c33":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n("90b9"),r=function(e,t){var n=Object(a["a"])()?localStorage.getItem(e):null,r=n||t;try{return JSON.parse(r)}catch(o){return r}},o=function(e,t){Object(a["a"])()&&localStorage.setItem(e,t)}},"4f95":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var a=function(){return""!==JSON.parse(document.querySelector("#app-platform-json").text)["platform"]},r=function(){return JSON.parse(document.querySelector("#user-json").text)},o=function(){return JSON.parse(document.querySelector("#settings-json").text)}},6:function(e,t,n){e.exports=n("6368")},6368:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),r=n("f357"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isPro?e._e():n("div",{staticClass:"floating-panel text-center pb-2"},[e._m(0),n("div",{class:e.usageClass},[e._v(e._s(e.usageMTD)+"/"+e._s(e.humanizedUsageCap))]),e.overage?n("div",[e._v("Your month-to-date tunneling usage is over the Free plan limit. "),n("a",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",href:"/ent/pricing/"}},[e._v("Get Unlimited Tunneling")])]):e._e()]),n("div",[e.printerId?n("iframe",{staticClass:"tunnel-iframe",attrs:{src:e.iframeUrl()+"#temp"}}):e._e()])])},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-muted"},[e._v("Month-To-Date Usage/Free Limit("),n("a",{attrs:{href:"https://www.thespaghettidetective.com/docs/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users"}},[e._v("?")]),e._v(")")])}],i=(n("fb6a"),n("bc3a")),u=n.n(i),s=n("6625"),l=n.n(s),f=n("49d5"),p=n.n(f),b=n("1807"),d=n("4f95"),g={name:"OctoPrintTunnelPage",components:{},data:function(){return{bytesMTD:null,usageCap:null,isPro:!0,printerId:null}},computed:{usageClass:function(){return{"text-success":this.bytesMTD<.8*this.usageCap,"text-warning":this.bytesMTD>=.8*this.usageCap&&this.bytesMTD<this.usageCap,"text-danger":this.bytesMTD>=this.usageCap}},usageMTD:function(){return p()(this.bytesMTD)},humanizedUsageCap:function(){return p()(this.usageCap)},overage:function(){return this.bytesMTD>=this.usageCap}},created:function(){this.isPro=Object(d["c"])().is_pro,this.printerId=l()(window.location.pathname,"/").slice(-2,-1).pop(),this.usageCap=Object(d["b"])().OCTOPRINT_TUNNEL_CAP},mounted:function(){this.$swal.Prompt.fire({html:'<h4 class="text-center p-2"><svg class="menu-icon" fill="currentColor" viewBox="0 0 346.26 368.59" style="height: 1.1em;margin-right: 0.75em;"><use href="#svg-octoprint-tunneling" /></svg>OctoPrint Secure Tunnel</h4><div class="p-1">It may take long time for OctoPrint page to load as it is securely tunneled via The Spaghetti Detective server.</div><div class="p-1"><a target="_blank" href="https://www.thespaghettidetective.com/docs/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users">Learn more about OctoPrint Tunneling\'s security and page load speed. <i class="fas fa-external-link-alt"></i></a></div>'},"octoprint-tunnel.warning");var e=this,t=function(){u.a.get(b["a"].tunnelUsage()).then((function(t){e.bytesMTD=t.data.total}))};setInterval(t,15e3),setTimeout(t,4e3)},methods:{iframeUrl:function(){return"/octoprint/".concat(this.printerId,"/")}}},m=g,v=(n("86ee"),n("e345"),n("2877")),h=Object(v["a"])(m,o,c,!1,null,"fdf5415a",null),O=h.exports,j=n("785f"),y=n("648b"),k=n("5f5b");Object(y["c"])(),Object(j["a"])(a["default"]),a["default"].use(r["a"]),a["default"].use(k["a"]),new a["default"]({components:{OctoPrintTunnelPage:O}}).$mount("#octoprint-tunnel-mount")},"648b":function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"e",(function(){return H})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return Y}));n("99af"),n("4160"),n("b0c0"),n("d3b7"),n("ac1f"),n("159b"),n("ddb0");var a,r,o,c,i,u,s,l,f,p,b,d,g,m,v,h,O,j,y,k,D,w,_,x,C,E,L,S,T,B,P,A,$,M,I=n("fc11"),N=n("a026"),U=n("90b9"),F={Light:"Light",Dark:"Dark",System:"System"},J=[{name:"primary-variant",values:(a={},Object(I["a"])(a,F.Light,"#B289F8"),Object(I["a"])(a,F.Dark,"#9A6AEF"),a)},{name:"primary",values:(r={},Object(I["a"])(r,F.Light,"#9965f4"),Object(I["a"])(r,F.Dark,"#A57BEE"),r)},{name:"on-primary",values:(o={},Object(I["a"])(o,F.Light,"#ffffff"),Object(I["a"])(o,F.Dark,"#ffffff"),o)},{name:"secondary",values:(c={},Object(I["a"])(c,F.Light,"#28303A"),Object(I["a"])(c,F.Dark,"#EBEBEB"),c)},{name:"on-secondary",values:(i={},Object(I["a"])(i,F.Light,"#EBEBEB"),Object(I["a"])(i,F.Dark,"#28303A"),i)},{name:"success",values:(u={},Object(I["a"])(u,F.Light,"#5cb85c"),Object(I["a"])(u,F.Dark,"#5cb85c"),u)},{name:"success-variant",values:(s={},Object(I["a"])(s,F.Light,"#4CAE4C"),Object(I["a"])(s,F.Dark,"#4CAE4C"),s)},{name:"on-success",values:(l={},Object(I["a"])(l,F.Light,"#ffffff"),Object(I["a"])(l,F.Dark,"#ffffff"),l)},{name:"danger",values:(f={},Object(I["a"])(f,F.Light,"#d9534f"),Object(I["a"])(f,F.Dark,"#d9534f"),f)},{name:"danger-variant",values:(p={},Object(I["a"])(p,F.Light,"#C2413D"),Object(I["a"])(p,F.Dark,"#C2413D"),p)},{name:"on-danger",values:(b={},Object(I["a"])(b,F.Light,"#ffffff"),Object(I["a"])(b,F.Dark,"#ffffff"),b)},{name:"warning",values:(d={},Object(I["a"])(d,F.Light,"#f0ad4e"),Object(I["a"])(d,F.Dark,"#f0ad4e"),d)},{name:"warning-variant",values:(g={},Object(I["a"])(g,F.Light,"#DB9A3F"),Object(I["a"])(g,F.Dark,"#DB9A3F"),g)},{name:"on-warning",values:(m={},Object(I["a"])(m,F.Light,"#ffffff"),Object(I["a"])(m,F.Dark,"#ffffff"),m)},{name:"on-warning-2",values:(v={},Object(I["a"])(v,F.Light,"#000000"),Object(I["a"])(v,F.Dark,"#000000"),v)},{name:"background",values:(h={},Object(I["a"])(h,F.Light,"#EBEBEB"),Object(I["a"])(h,F.Dark,"#233141"),h)},{name:"surface-primary",values:(O={},Object(I["a"])(O,F.Light,"#ffffff"),Object(I["a"])(O,F.Dark,"#485B71"),O)},{name:"surface-secondary",values:(j={},Object(I["a"])(j,F.Light,"#f5f5f5"),Object(I["a"])(j,F.Dark,"#2D3E4F"),j)},{name:"overlay",values:(y={},Object(I["a"])(y,F.Light,"#f5f5f5"),Object(I["a"])(y,F.Dark,"#000000"),y)},{name:"hover",values:(k={},Object(I["a"])(k,F.Light,"#666666"),Object(I["a"])(k,F.Dark,"#ffffff"),k)},{name:"divider",values:(D={},Object(I["a"])(D,F.Light,"#ABB6C2"),Object(I["a"])(D,F.Dark,"#6A7B8A"),D)},{name:"text-primary",values:(w={},Object(I["a"])(w,F.Light,"#28303A"),Object(I["a"])(w,F.Dark,"#EBEBEB"),w)},{name:"text-secondary",values:(_={},Object(I["a"])(_,F.Light,"#8A94A2"),Object(I["a"])(_,F.Dark,"#AAACB0"),_)},{name:"text-help",values:(x={},Object(I["a"])(x,F.Light,"#4c9be8"),Object(I["a"])(x,F.Dark,"#4c9be8"),x)},{name:"input-background",values:(C={},Object(I["a"])(C,F.Light,"#E2E8ED"),Object(I["a"])(C,F.Dark,"#42566B"),C)},{name:"table-accent-1",values:(E={},Object(I["a"])(E,F.Light,"#E3E3E3"),Object(I["a"])(E,F.Dark,"#27323F"),E)},{name:"table-accent-2",values:(L={},Object(I["a"])(L,F.Light,"#EDEDED"),Object(I["a"])(L,F.Dark,"#1B242E"),L)},{name:"icon-tunneling-1",values:(S={},Object(I["a"])(S,F.Light,"#4e5d6c"),Object(I["a"])(S,F.Dark,"#EAEAEA"),S)},{name:"icon-tunneling-2",values:(T={},Object(I["a"])(T,F.Light,"#1d2935"),Object(I["a"])(T,F.Dark,"#CDCDCD"),T)},{name:"icon-navbar-brand",values:(B={},Object(I["a"])(B,F.Light,"#7B8993"),Object(I["a"])(B,F.Dark,"#ffffff"),B)}],W=[{name:"logo-bg",values:(P={},Object(I["a"])(P,F.Light,'url("/static/img/logo-bg/logo-bg_light.svg")'),Object(I["a"])(P,F.Dark,'url("/static/img/logo-bg/logo-bg_dark.svg")'),P)},{name:"tail-spin",values:(A={},Object(I["a"])(A,F.Light,'url("/static/img/tail-spin/tail-spin_light.svg")'),Object(I["a"])(A,F.Dark,'url("/static/img/tail-spin/tail-spin_dark.svg")'),A)}],q=[{name:"widget",values:($={},Object(I["a"])($,F.Light,"0px 3px 30px rgba(0, 0, 0, 0.5)"),Object(I["a"])($,F.Dark,"0px 3px 30px rgba(0, 0, 0, 0.5)"),$)},{name:"top-nav",values:(M={},Object(I["a"])(M,F.Light,"0px 2px 10px rgba(0,0,0,0.1)"),Object(I["a"])(M,F.Dark,"0px 2px 10px rgba(0,0,0,.3)"),M)}];function z(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.log("Wrong HEX value!"),[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}var H=N["default"].observable({value:(Object(U["a"])()?localStorage.getItem("colorTheme"):F.Dark)||F.Dark});function R(){return H.value===F.System?"not all"!==window.matchMedia("(prefers-color-scheme)").media&&window.matchMedia("(prefers-color-scheme: light)").matches?F.Light:F.Dark:H.value}function G(){var e=R();J.forEach((function(t){var n=z(t.values[e]);if(document.documentElement.style.setProperty("--color-".concat(t.name),"".concat(n[0]," ").concat(n[1]," ").concat(n[2])),"surface-primary"===t.name){var a=document.querySelector('meta[name="theme-color"');a.content=t.values[e]}})),W.forEach((function(t){document.documentElement.style.setProperty("--url-".concat(t.name),t.values[e])})),q.forEach((function(t){document.documentElement.style.setProperty("--shadow-".concat(t.name),t.values[e])}))}function Y(e){H.value=e,Object(U["a"])()&&localStorage.setItem("colorTheme",H.value),G()}},"785f":function(e,t,n){"use strict";n("99af"),n("fb6a"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("5319");var a=n("0122"),r=/(?:^|[-_/])(\w)/g,o="root",c="anonymous component",i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/,u=function(e){var t=i.exec(e);return t?t.slice(1):[]},s=function(e,t){var n=u(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},l=function(e){if(!e)return c;if(e.$root===e)return o;if(!e.$options)return c;if(e.$options.name)return e.$options.name;if(e.$options._componentTag)return e.$options._componentTag;if(e.$options.__file){var t=e.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),n=s(t,".vue");return n.replace(r,(function(e,t){return t?t.toUpperCase():""}))}return c},f=function e(t,n,r,o,c,i){var u=0;for(var s in n){if(u+=1,u>i)break;"object"==Object(a["a"])(n[s])?c>o&&e(t,n[s],r+"."+s,o+1,c,i):t[r+"."+s]=n[s]}},p=function(e){var t=e.config.errorHandler;e.config.errorHandler=function(n,a,r){if(window.Sentry){var o={},c=a;if(a._original&&(c=a._original),c)try{o.componentName=l(c),f(o,JSON.parse(JSON.stringify(c.$options.propsData)),"props",0,2,10)}catch(i){console.log("Unable to extract metadata from Vue component.")}r&&(o.lifecycleHook=r),setTimeout((function(){window.Sentry.getCurrentHub().withScope((function(e){e.setContext("vue",o),window.Sentry.getCurrentHub().captureException(n)}))}))}"function"===typeof t&&t.call(e,n,a,r),e.util&&e.util.warn("Error in ".concat(r,': "').concat(n.toString(),'"'),a),console.error(n)}};t["a"]=p},"86ee":function(e,t,n){"use strict";var a=n("01a6"),r=n.n(a);r.a},"90b9":function(e,t,n){"use strict";function a(){try{var e="__random_key_we_are_not_going_to_use__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}n.d(t,"a",(function(){return a}))},ad56:function(e,t,n){},e345:function(e,t,n){"use strict";var a=n("ad56"),r=n.n(a);r.a},f357:function(e,t,n){"use strict";var a=n("f3f3"),r=n("a026"),o=n("5886"),c=n("3c33"),i=function(e,t,n){var o=document.createElement("div"),c=new r["default"]({render:function(n){return n(e,{props:t})}}).$mount(o);return r["default"].swal(Object(a["a"])(Object(a["a"])({},n),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(e){e.querySelector("#replace-here").replaceWith(c.$el)},onDestroy:function(){c.$destroy(),o.remove()}}))},u=function(e,t,n){return r["default"].swal(Object(a["a"])(Object(a["a"])({},n),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(t){t.querySelector("#replace-here").replaceWith(e)}}))},s=function(e,t){e.use(o["a"],t);var n=e.swal.mixin({title:"Are you sure?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",customClass:{container:"dark-backdrop"}}),r=e.swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3}),s=e.swal.mixin({icon:"error",customClass:{container:"dark-backdrop"}}),l=e.swal.mixin({customClass:{container:"dark-backdrop"}}),f=function(t,n){if(!Object(c["a"])(n,!1)){var r=Object(a["a"])(Object(a["a"])({},t),{},{position:"top-end",confirmButtonText:"Gotcha! Don't show this again."});return e.swal(r).then((function(e){e.value&&(Object(c["b"])(n,!0),console.log(e))}))}};e.prototype.$swal["openModalWithComponent"]=i,e.prototype.$swal["openModalWithElement"]=u,e.prototype.$swal["Confirm"]=n,e.prototype.$swal["Toast"]=r,e.prototype.$swal["DismissableToast"]=f,e.prototype.$swal["Reject"]=s,e.prototype.$swal["Prompt"]=l};t["a"]={install:s}}});
//# sourceMappingURL=octoprint_tunnel.js.map