(function(e){function t(t){for(var a,o,c=t[0],s=t[1],u=t[2],f=0,p=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={octoprint_tunnel:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/frontend/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([6,"chunk-vendors"]),n()})({1807:function(e,t,n){"use strict";n("99af"),n("a15b");var a=n("0b49"),r=n.n(a),i=n("dd61"),o=n.n(i);t["a"]={publicTimelapse:function(){return"/api/v1/publictimelapse/"},printShotFeedback:function(e,t){return"/api/v1/printshotfeedbacks/".concat(e,"/?print_id=").concat(t)},print:function(e){return"/api/v1/prints/".concat(e,"/")},prints:function(){return"/api/v1/prints/"},printsBulkDelete:function(){return"/api/v1/prints/bulk_delete/"},printAlertOverwrite:function(e){return"/api/v1/prints/".concat(e,"/alert_overwrite/")},printers:function(){return"/api/v1/printers/"},printer:function(e){return"/api/v1/printers/".concat(e,"/")},printerAction:function(e,t){return"/api/v1/printers/".concat(e).concat(t)},pubPrinter:function(){return"/api/v1p/printer/"},gcodes:function(e,t){return"/api/v1/gcodes/?page=".concat(e,"&page_size=").concat(t||24)},gcode:function(e){return"/api/v1/gcodes/".concat(e,"/")},tunnelUsage:function(){return"/api/v1/tunnelusage/"},verificationCode:function(){return"/api/v1/onetimeverificationcodes/"},user:function(){return"/api/v1/users/me/"},sharedResources:function(e){return"/api/v1/sharedresources/?"+o()(r()(e),(function(e){return e.join("=")})).join("&")},sharedResource:function(e){return"/api/v1/sharedresources/".concat(e,"/")},printerDiscovery:function(){return"/api/v1/printer_discovery/"},printerControl:function(e){return"/printers/".concat(e,"/control/")},printerWebSocket:function(e){return"/ws/web/".concat(e,"/")},printerSharedWebSocket:function(e){return"/ws/share_token/web/".concat(e,"/")},printerWizard:function(e){return"/printers/wizard/?printerId=".concat(e)}}},"3c33":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(e,t){var n=localStorage.getItem(e)||t;try{return JSON.parse(n)}catch(a){return n}},r=function(e,t){return localStorage.setItem(e,t)}},"3dd8":function(e,t,n){"use strict";var a=n("80a6"),r=n.n(a);r.a},6:function(e,t,n){e.exports=n("6368")},6368:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),r=n("f357"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isPro?e._e():n("div",{staticClass:"floating-panel text-center pb-2"},[e._m(0),n("div",{class:e.usageClass},[e._v(e._s(e.usageMTD)+"/"+e._s(e.humanizedUsageCap))]),e.overage?n("div",[e._v("Your month-to-date tunneling usage is over the Free plan limit. "),n("a",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",href:"/ent/pricing/"}},[e._v("Get Unlimited Tunneling")])]):e._e()]),n("div",[e.printerId?n("iframe",{staticClass:"tunnel-iframe",attrs:{src:e.iframeUrl()}}):e._e()])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-muted"},[e._v("Month-To-Date Usage/Free Limit("),n("a",{attrs:{href:"https://help.thespaghettidetective.com/kb/guide/en/octoprint-tunneling-Osas3m3O3L/Steps/300026,361069,366057,300029"}},[e._v("?")]),e._v(")")])}],c=(n("fb6a"),n("bc3a")),s=n.n(c),u=n("6625"),l=n.n(u),f=n("49d5"),p=n.n(f),b=n("1807"),d={name:"OctoPrintTunnelPage",components:{},data:function(){return{bytesMTD:null,usageCap:null,isPro:!0,printerId:null}},computed:{usageClass:function(){return{"text-success":this.bytesMTD<.8*this.usageCap,"text-warning":this.bytesMTD>=.8*this.usageCap&&this.bytesMTD<this.usageCap,"text-danger":this.bytesMTD>=this.usageCap}},usageMTD:function(){return p()(this.bytesMTD)},humanizedUsageCap:function(){return p()(this.usageCap)},overage:function(){return this.bytesMTD>=this.usageCap}},created:function(){this.isPro=JSON.parse(document.querySelector("#user-json").text).is_pro,this.printerId=l()(window.location.pathname,"/").slice(-2,-1).pop(),this.usageCap=JSON.parse(document.querySelector("#settings-json").text).OCTOPRINT_TUNNEL_CAP},mounted:function(){this.$swal.fire({html:'<h4 class="text-center p-2"><svg class="menu-icon" fill="currentColor" viewBox="0 0 346.26 368.59" style="height: 1.1em;margin-right: 0.75em;"><use href="#svg-octoprint-tunneling" /></svg>OctoPrint Secure Tunnel</h4><div class="p-1">It may take long time for OctoPrint page to load as it is securely tunneled via The Spaghetti Detective server.</div><div class="p-1"><a target="_blank" href="https://help.thespaghettidetective.com/kb/guide/en/octoprint-tunneling-Osas3m3O3L/Steps/300026,361069,300029">Learn more about OctoPrint Tunneling\'s security and page load speed. <i class="fas fa-external-link-alt"></i></a></div>',customClass:{container:"dark-backdrop"}},"octoprint-tunnel.warning");var e=this,t=function(){s.a.get(b["a"].tunnelUsage()).then((function(t){e.bytesMTD=t.data.total}))};setInterval(t,15e3),setTimeout(t,4e3)},methods:{iframeUrl:function(){return"/octoprint/".concat(this.printerId,"/")}}},g=d,v=(n("3dd8"),n("e345"),n("2877")),m=Object(v["a"])(g,i,o,!1,null,"3913553b",null),h=m.exports,O=n("785f"),j=n("648b");Object(j["b"])(),Object(O["a"])(a["default"]),a["default"].use(r["a"]),new a["default"]({components:{OctoPrintTunnelPage:h}}).$mount("#octoprint-tunnel-mount")},"648b":function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"d",(function(){return N})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return q}));n("99af"),n("4160"),n("b0c0"),n("d3b7"),n("ac1f"),n("159b"),n("ddb0");var a,r,i,o,c,s,u,l,f,p,b,d,g,v,m,h,O,j,y,D,k,w,_,E,C,L,x,S,T,B,A,P,$,M=n("fc11"),I=n("a026"),U={Light:"Light",Dark:"Dark",System:"System"},N=I["default"].observable({value:U.Dark,system:!1}),F=[{name:"primary-variant",values:(a={},Object(M["a"])(a,U.Light,"#B289F8"),Object(M["a"])(a,U.Dark,"#9A6AEF"),a)},{name:"primary",values:(r={},Object(M["a"])(r,U.Light,"#9965f4"),Object(M["a"])(r,U.Dark,"#A57BEE"),r)},{name:"on-primary",values:(i={},Object(M["a"])(i,U.Light,"#ffffff"),Object(M["a"])(i,U.Dark,"#ffffff"),i)},{name:"secondary",values:(o={},Object(M["a"])(o,U.Light,"#28303A"),Object(M["a"])(o,U.Dark,"#EBEBEB"),o)},{name:"on-secondary",values:(c={},Object(M["a"])(c,U.Light,"#EBEBEB"),Object(M["a"])(c,U.Dark,"#28303A"),c)},{name:"success",values:(s={},Object(M["a"])(s,U.Light,"#5cb85c"),Object(M["a"])(s,U.Dark,"#5cb85c"),s)},{name:"success-variant",values:(u={},Object(M["a"])(u,U.Light,"#4CAE4C"),Object(M["a"])(u,U.Dark,"#4CAE4C"),u)},{name:"on-success",values:(l={},Object(M["a"])(l,U.Light,"#ffffff"),Object(M["a"])(l,U.Dark,"#ffffff"),l)},{name:"danger",values:(f={},Object(M["a"])(f,U.Light,"#d9534f"),Object(M["a"])(f,U.Dark,"#d9534f"),f)},{name:"danger-variant",values:(p={},Object(M["a"])(p,U.Light,"#C2413D"),Object(M["a"])(p,U.Dark,"#C2413D"),p)},{name:"on-danger",values:(b={},Object(M["a"])(b,U.Light,"#ffffff"),Object(M["a"])(b,U.Dark,"#ffffff"),b)},{name:"warning",values:(d={},Object(M["a"])(d,U.Light,"#f0ad4e"),Object(M["a"])(d,U.Dark,"#f0ad4e"),d)},{name:"warning-variant",values:(g={},Object(M["a"])(g,U.Light,"#DB9A3F"),Object(M["a"])(g,U.Dark,"#DB9A3F"),g)},{name:"on-warning",values:(v={},Object(M["a"])(v,U.Light,"#ffffff"),Object(M["a"])(v,U.Dark,"#ffffff"),v)},{name:"on-warning-2",values:(m={},Object(M["a"])(m,U.Light,"#000000"),Object(M["a"])(m,U.Dark,"#000000"),m)},{name:"background",values:(h={},Object(M["a"])(h,U.Light,"#EBEBEB"),Object(M["a"])(h,U.Dark,"#233141"),h)},{name:"surface-primary",values:(O={},Object(M["a"])(O,U.Light,"#ffffff"),Object(M["a"])(O,U.Dark,"#485B71"),O)},{name:"surface-secondary",values:(j={},Object(M["a"])(j,U.Light,"#f5f5f5"),Object(M["a"])(j,U.Dark,"#2D3E4F"),j)},{name:"overlay",values:(y={},Object(M["a"])(y,U.Light,"#f5f5f5"),Object(M["a"])(y,U.Dark,"#000000"),y)},{name:"hover",values:(D={},Object(M["a"])(D,U.Light,"#666666"),Object(M["a"])(D,U.Dark,"#ffffff"),D)},{name:"divider",values:(k={},Object(M["a"])(k,U.Light,"#ABB6C2"),Object(M["a"])(k,U.Dark,"#6A7B8A"),k)},{name:"text-primary",values:(w={},Object(M["a"])(w,U.Light,"#28303A"),Object(M["a"])(w,U.Dark,"#EBEBEB"),w)},{name:"text-secondary",values:(_={},Object(M["a"])(_,U.Light,"#8A94A2"),Object(M["a"])(_,U.Dark,"#AAACB0"),_)},{name:"text-help",values:(E={},Object(M["a"])(E,U.Light,"#4c9be8"),Object(M["a"])(E,U.Dark,"#4c9be8"),E)},{name:"input-background",values:(C={},Object(M["a"])(C,U.Light,"#E2E8ED"),Object(M["a"])(C,U.Dark,"#42566B"),C)},{name:"table-accent-1",values:(L={},Object(M["a"])(L,U.Light,"#E3E3E3"),Object(M["a"])(L,U.Dark,"#27323F"),L)},{name:"table-accent-2",values:(x={},Object(M["a"])(x,U.Light,"#EDEDED"),Object(M["a"])(x,U.Dark,"#1B242E"),x)},{name:"icon-tunneling-1",values:(S={},Object(M["a"])(S,U.Light,"#4e5d6c"),Object(M["a"])(S,U.Dark,"#EAEAEA"),S)},{name:"icon-tunneling-2",values:(T={},Object(M["a"])(T,U.Light,"#1d2935"),Object(M["a"])(T,U.Dark,"#CDCDCD"),T)},{name:"icon-navbar-brand",values:(B={},Object(M["a"])(B,U.Light,"#7B8993"),Object(M["a"])(B,U.Dark,"#ffffff"),B)}],W=[{name:"logo-bg",values:(A={},Object(M["a"])(A,U.Light,'url("/static/img/logo-bg/logo-bg_light.svg")'),Object(M["a"])(A,U.Dark,'url("/static/img/logo-bg/logo-bg_dark.svg")'),A)},{name:"tail-spin",values:(P={},Object(M["a"])(P,U.Light,'url("/static/img/tail-spin/tail-spin_light.svg")'),Object(M["a"])(P,U.Dark,'url("/static/img/tail-spin/tail-spin_dark.svg")'),P)}],J=[{name:"widget",values:($={},Object(M["a"])($,U.Light,"0px 3px 30px rgba(0, 0, 0, 0.5)"),Object(M["a"])($,U.Dark,"0px 3px 30px rgba(0, 0, 0, 0.5)"),$)}];function z(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t||console.log("Wrong HEX value!"),[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}function H(){var e=localStorage.getItem("colorTheme"),t=e===U.System;t&&(e="not all"!==window.matchMedia("(prefers-color-scheme)").media&&window.matchMedia("(prefers-color-scheme: light)").matches?U.Light:U.Dark),null===e&&(e=N.value),F.forEach((function(t){var n=z(t.values[e]);document.documentElement.style.setProperty("--color-".concat(t.name),"".concat(n[0]," ").concat(n[1]," ").concat(n[2]))})),W.forEach((function(t){document.documentElement.style.setProperty("--url-".concat(t.name),t.values[e])})),J.forEach((function(t){document.documentElement.style.setProperty("--shadow-".concat(t.name),t.values[e])})),N.value=e,N.system=t}function q(e){localStorage.setItem("colorTheme",e),H()}},"785f":function(e,t,n){"use strict";n("99af"),n("fb6a"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("5319");var a=n("0122"),r=/(?:^|[-_/])(\w)/g,i="root",o="anonymous component",c=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/,s=function(e){var t=c.exec(e);return t?t.slice(1):[]},u=function(e,t){var n=s(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},l=function(e){if(!e)return o;if(e.$root===e)return i;if(!e.$options)return o;if(e.$options.name)return e.$options.name;if(e.$options._componentTag)return e.$options._componentTag;if(e.$options.__file){var t=e.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),n=u(t,".vue");return n.replace(r,(function(e,t){return t?t.toUpperCase():""}))}return o},f=function e(t,n,r,i,o,c){var s=0;for(var u in n){if(s+=1,s>c)break;"object"==Object(a["a"])(n[u])?o>i&&e(t,n[u],r+"."+u,i+1,o,c):t[r+"."+u]=n[u]}},p=function(e){var t=e.config.errorHandler;e.config.errorHandler=function(n,a,r){if(window.Sentry){var i={},o=a;if(a._original&&(o=a._original),o)try{i.componentName=l(o),f(i,JSON.parse(JSON.stringify(o.$options.propsData)),"props",0,2,10)}catch(c){console.log("Unable to extract metadata from Vue component.")}r&&(i.lifecycleHook=r),setTimeout((function(){window.Sentry.getCurrentHub().withScope((function(e){e.setContext("vue",i),window.Sentry.getCurrentHub().captureException(n)}))}))}"function"===typeof t&&t.call(e,n,a,r),e.util&&e.util.warn("Error in ".concat(r,': "').concat(n.toString(),'"'),a),console.error(n)}};t["a"]=p},"80a6":function(e,t,n){},ad56:function(e,t,n){},e345:function(e,t,n){"use strict";var a=n("ad56"),r=n.n(a);r.a},f357:function(e,t,n){"use strict";var a=n("f3f3"),r=n("a026"),i=n("5886"),o=n("3c33"),c=function(e,t,n){var i=document.createElement("div"),o=new r["default"]({render:function(n){return n(e,{props:t})}}).$mount(i);return r["default"].swal(Object(a["a"])(Object(a["a"])({},n),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(e){e.querySelector("#replace-here").replaceWith(o.$el)},onDestroy:function(){o.$destroy(),i.remove()}}))},s=function(e,t,n){return r["default"].swal(Object(a["a"])(Object(a["a"])({},n),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(t){t.querySelector("#replace-here").replaceWith(e)}}))},u=function(e,t){e.use(i["a"],t);var n=e.swal.mixin({title:"Are you sure?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",customClass:{container:"dark-backdrop"}}),r=e.swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3}),u=function(t,n){if(!Object(o["a"])(n,!1)){var r=Object(a["a"])(Object(a["a"])({},t),{},{position:"top-end",confirmButtonText:"Gotcha! Don't show this again."});return e.swal(r).then((function(e){e.value&&(Object(o["b"])(n,!0),console.log(e))}))}};e.prototype.$swal["openModalWithComponent"]=c,e.prototype.$swal["openModalWithElement"]=s,e.prototype.$swal["Confirm"]=n,e.prototype.$swal["Toast"]=r,e.prototype.$swal["DismissableToast"]=u};t["a"]={install:u}}});
//# sourceMappingURL=octoprint_tunnel.js.map