(function(t){function e(e){for(var a,c,i=e[0],u=e[1],s=e[2],f=0,p=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={octoprint_tunnel:0},o=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/static/frontend/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;o.push([6,"chunk-vendors"]),n()})({"013d":function(t,e,n){},1807:function(t,e,n){"use strict";n("99af"),n("a15b");var a=n("0b49"),r=n.n(a),o=n("dd61"),c=n.n(o);e["a"]={publicTimelapse:function(){return"/api/v1/publictimelapse/"},printShotFeedback:function(t,e){return"/api/v1/printshotfeedbacks/".concat(t,"/?print_id=").concat(e)},print:function(t){return"/api/v1/prints/".concat(t,"/")},prints:function(){return"/api/v1/prints/"},printsBulkDelete:function(){return"/api/v1/prints/bulk_delete/"},printAlertOverwrite:function(t){return"/api/v1/prints/".concat(t,"/alert_overwrite/")},printers:function(){return"/api/v1/printers/"},printer:function(t){return"/api/v1/printers/".concat(t,"/")},printerAction:function(t,e){return"/api/v1/printers/".concat(t).concat(e)},pubPrinter:function(){return"/api/v1p/printer/"},gcodes:function(t,e){return"/api/v1/gcodes/?page=".concat(t,"&page_size=").concat(e||24)},gcode:function(t){return"/api/v1/gcodes/".concat(t,"/")},tunnelUsage:function(){return"/api/v1/tunnelusage/"},verificationCode:function(){return"/api/v1/onetimeverificationcodes/"},user:function(){return"/api/v1/users/me/"},sharedResources:function(t){return"/api/v1/sharedresources/?"+c()(r()(t),(function(t){return t.join("=")})).join("&")},sharedResource:function(t){return"/api/v1/sharedresources/".concat(t,"/")},printerDiscovery:function(){return"/api/v1/printer_discovery/"},printerControl:function(t){return"/printers/".concat(t,"/control/")},printerWebSocket:function(t){return"/ws/web/".concat(t,"/")},printerSharedWebSocket:function(t){return"/ws/share_token/web/".concat(t,"/")},printerWizard:function(t){return"/printers/wizard/?printerId=".concat(t)}}},"3c33":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var a=n("90b9"),r=function(t,e){var n=Object(a["a"])()?localStorage.getItem(t):null,r=n||e;try{return JSON.parse(r)}catch(o){return r}},o=function(t,e){Object(a["a"])()&&localStorage.setItem(t,e)}},"4f95":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o}));var a=function(){return""!==JSON.parse(document.querySelector("#app-platform-json").text)["platform"]},r=function(){return JSON.parse(document.querySelector("#user-json").text)},o=function(){return JSON.parse(document.querySelector("#settings-json").text)}},6:function(t,e,n){t.exports=n("6368")},6368:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),r=n("f357"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isPro?t._e():n("div",{staticClass:"floating-panel text-center pb-2"},[t._m(0),n("div",{class:t.usageClass},[t._v(t._s(t.usageMTD)+"/"+t._s(t.humanizedUsageCap))]),t.overage?n("div",[t._v("Your month-to-date tunneling usage is over the Free plan limit. "),n("a",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",href:"/ent/pricing/"}},[t._v("Get Unlimited Tunneling")])]):t._e()]),n("div",[t.printerId?n("iframe",{staticClass:"tunnel-iframe",attrs:{src:t.iframeUrl()}}):t._e()])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-muted"},[t._v("Month-To-Date Usage/Free Limit("),n("a",{attrs:{href:"https://www.thespaghettidetective.com/docs/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users"}},[t._v("?")]),t._v(")")])}],i=(n("fb6a"),n("bc3a")),u=n.n(i),s=n("6625"),l=n.n(s),f=n("49d5"),p=n.n(f),b=n("1807"),d=n("4f95"),g={name:"OctoPrintTunnelPage",components:{},data:function(){return{bytesMTD:null,usageCap:null,isPro:!0,printerId:null}},computed:{usageClass:function(){return{"text-success":this.bytesMTD<.8*this.usageCap,"text-warning":this.bytesMTD>=.8*this.usageCap&&this.bytesMTD<this.usageCap,"text-danger":this.bytesMTD>=this.usageCap}},usageMTD:function(){return p()(this.bytesMTD)},humanizedUsageCap:function(){return p()(this.usageCap)},overage:function(){return this.bytesMTD>=this.usageCap}},created:function(){this.isPro=Object(d["c"])().is_pro,this.printerId=l()(window.location.pathname,"/").slice(-2,-1).pop(),this.usageCap=Object(d["b"])().OCTOPRINT_TUNNEL_CAP},mounted:function(){this.$swal.Prompt.fire({html:'<h4 class="text-center p-2"><svg class="menu-icon" fill="currentColor" viewBox="0 0 346.26 368.59" style="height: 1.1em;margin-right: 0.75em;"><use href="#svg-octoprint-tunneling" /></svg>OctoPrint Secure Tunnel</h4><div class="p-1">It may take long time for OctoPrint page to load as it is securely tunneled via The Spaghetti Detective server.</div><div class="p-1"><a target="_blank" href="https://www.thespaghettidetective.com/docs/octoprint-tunneling/#is-octoprint-tunneling-free-to-all-users">Learn more about OctoPrint Tunneling\'s security and page load speed. <i class="fas fa-external-link-alt"></i></a></div>'},"octoprint-tunnel.warning");var t=this,e=function(){u.a.get(b["a"].tunnelUsage()).then((function(e){t.bytesMTD=e.data.total}))};setInterval(e,15e3),setTimeout(e,4e3)},methods:{iframeUrl:function(){return"/octoprint/".concat(this.printerId,"/")}}},v=g,m=(n("6f2d"),n("e345"),n("2877")),h=Object(m["a"])(v,o,c,!1,null,"9cb99816",null),O=h.exports,j=n("785f"),y=n("648b"),k=n("5f5b");Object(y["c"])(),Object(j["a"])(a["default"]),a["default"].use(r["a"]),a["default"].use(k["a"]),new a["default"]({components:{OctoPrintTunnelPage:O}}).$mount("#octoprint-tunnel-mount")},"648b":function(t,e,n){"use strict";n.d(e,"a",(function(){return F})),n.d(e,"e",(function(){return q})),n.d(e,"b",(function(){return R})),n.d(e,"c",(function(){return G})),n.d(e,"d",(function(){return Y}));n("99af"),n("4160"),n("b0c0"),n("d3b7"),n("ac1f"),n("159b"),n("ddb0");var a,r,o,c,i,u,s,l,f,p,b,d,g,v,m,h,O,j,y,k,D,w,_,x,C,E,L,S,T,B,P,A,$,M,I=n("fc11"),N=n("a026"),U=n("90b9"),F={Light:"Light",Dark:"Dark",System:"System"},J=[{name:"primary-variant",values:(a={},Object(I["a"])(a,F.Light,"#B289F8"),Object(I["a"])(a,F.Dark,"#9A6AEF"),a)},{name:"primary",values:(r={},Object(I["a"])(r,F.Light,"#9965f4"),Object(I["a"])(r,F.Dark,"#A57BEE"),r)},{name:"on-primary",values:(o={},Object(I["a"])(o,F.Light,"#ffffff"),Object(I["a"])(o,F.Dark,"#ffffff"),o)},{name:"secondary",values:(c={},Object(I["a"])(c,F.Light,"#28303A"),Object(I["a"])(c,F.Dark,"#EBEBEB"),c)},{name:"on-secondary",values:(i={},Object(I["a"])(i,F.Light,"#EBEBEB"),Object(I["a"])(i,F.Dark,"#28303A"),i)},{name:"success",values:(u={},Object(I["a"])(u,F.Light,"#5cb85c"),Object(I["a"])(u,F.Dark,"#5cb85c"),u)},{name:"success-variant",values:(s={},Object(I["a"])(s,F.Light,"#4CAE4C"),Object(I["a"])(s,F.Dark,"#4CAE4C"),s)},{name:"on-success",values:(l={},Object(I["a"])(l,F.Light,"#ffffff"),Object(I["a"])(l,F.Dark,"#ffffff"),l)},{name:"danger",values:(f={},Object(I["a"])(f,F.Light,"#d9534f"),Object(I["a"])(f,F.Dark,"#d9534f"),f)},{name:"danger-variant",values:(p={},Object(I["a"])(p,F.Light,"#C2413D"),Object(I["a"])(p,F.Dark,"#C2413D"),p)},{name:"on-danger",values:(b={},Object(I["a"])(b,F.Light,"#ffffff"),Object(I["a"])(b,F.Dark,"#ffffff"),b)},{name:"warning",values:(d={},Object(I["a"])(d,F.Light,"#f0ad4e"),Object(I["a"])(d,F.Dark,"#f0ad4e"),d)},{name:"warning-variant",values:(g={},Object(I["a"])(g,F.Light,"#DB9A3F"),Object(I["a"])(g,F.Dark,"#DB9A3F"),g)},{name:"on-warning",values:(v={},Object(I["a"])(v,F.Light,"#ffffff"),Object(I["a"])(v,F.Dark,"#ffffff"),v)},{name:"on-warning-2",values:(m={},Object(I["a"])(m,F.Light,"#000000"),Object(I["a"])(m,F.Dark,"#000000"),m)},{name:"background",values:(h={},Object(I["a"])(h,F.Light,"#EBEBEB"),Object(I["a"])(h,F.Dark,"#233141"),h)},{name:"surface-primary",values:(O={},Object(I["a"])(O,F.Light,"#ffffff"),Object(I["a"])(O,F.Dark,"#485B71"),O)},{name:"surface-secondary",values:(j={},Object(I["a"])(j,F.Light,"#f5f5f5"),Object(I["a"])(j,F.Dark,"#2D3E4F"),j)},{name:"overlay",values:(y={},Object(I["a"])(y,F.Light,"#f5f5f5"),Object(I["a"])(y,F.Dark,"#000000"),y)},{name:"hover",values:(k={},Object(I["a"])(k,F.Light,"#666666"),Object(I["a"])(k,F.Dark,"#ffffff"),k)},{name:"divider",values:(D={},Object(I["a"])(D,F.Light,"#ABB6C2"),Object(I["a"])(D,F.Dark,"#6A7B8A"),D)},{name:"text-primary",values:(w={},Object(I["a"])(w,F.Light,"#28303A"),Object(I["a"])(w,F.Dark,"#EBEBEB"),w)},{name:"text-secondary",values:(_={},Object(I["a"])(_,F.Light,"#8A94A2"),Object(I["a"])(_,F.Dark,"#AAACB0"),_)},{name:"text-help",values:(x={},Object(I["a"])(x,F.Light,"#4c9be8"),Object(I["a"])(x,F.Dark,"#4c9be8"),x)},{name:"input-background",values:(C={},Object(I["a"])(C,F.Light,"#E2E8ED"),Object(I["a"])(C,F.Dark,"#42566B"),C)},{name:"table-accent-1",values:(E={},Object(I["a"])(E,F.Light,"#E3E3E3"),Object(I["a"])(E,F.Dark,"#27323F"),E)},{name:"table-accent-2",values:(L={},Object(I["a"])(L,F.Light,"#EDEDED"),Object(I["a"])(L,F.Dark,"#1B242E"),L)},{name:"icon-tunneling-1",values:(S={},Object(I["a"])(S,F.Light,"#4e5d6c"),Object(I["a"])(S,F.Dark,"#EAEAEA"),S)},{name:"icon-tunneling-2",values:(T={},Object(I["a"])(T,F.Light,"#1d2935"),Object(I["a"])(T,F.Dark,"#CDCDCD"),T)},{name:"icon-navbar-brand",values:(B={},Object(I["a"])(B,F.Light,"#7B8993"),Object(I["a"])(B,F.Dark,"#ffffff"),B)}],W=[{name:"logo-bg",values:(P={},Object(I["a"])(P,F.Light,'url("/static/img/logo-bg/logo-bg_light.svg")'),Object(I["a"])(P,F.Dark,'url("/static/img/logo-bg/logo-bg_dark.svg")'),P)},{name:"tail-spin",values:(A={},Object(I["a"])(A,F.Light,'url("/static/img/tail-spin/tail-spin_light.svg")'),Object(I["a"])(A,F.Dark,'url("/static/img/tail-spin/tail-spin_dark.svg")'),A)}],z=[{name:"widget",values:($={},Object(I["a"])($,F.Light,"0px 3px 30px rgba(0, 0, 0, 0.5)"),Object(I["a"])($,F.Dark,"0px 3px 30px rgba(0, 0, 0, 0.5)"),$)},{name:"top-nav",values:(M={},Object(I["a"])(M,F.Light,"0px 2px 10px rgba(0,0,0,0.1)"),Object(I["a"])(M,F.Dark,"0px 2px 10px rgba(0,0,0,.3)"),M)}];function H(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.log("Wrong HEX value!"),[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}var q=N["default"].observable({value:(Object(U["a"])()?localStorage.getItem("colorTheme"):F.Dark)||F.Dark});function R(){return q.value===F.System?"not all"!==window.matchMedia("(prefers-color-scheme)").media&&window.matchMedia("(prefers-color-scheme: light)").matches?F.Light:F.Dark:q.value}function G(){var t=R();J.forEach((function(e){var n=H(e.values[t]);document.documentElement.style.setProperty("--color-".concat(e.name),"".concat(n[0]," ").concat(n[1]," ").concat(n[2]))})),W.forEach((function(e){document.documentElement.style.setProperty("--url-".concat(e.name),e.values[t])})),z.forEach((function(e){document.documentElement.style.setProperty("--shadow-".concat(e.name),e.values[t])}))}function Y(t){q.value=t,Object(U["a"])()&&localStorage.setItem("colorTheme",q.value),G()}},"6f2d":function(t,e,n){"use strict";var a=n("013d"),r=n.n(a);r.a},"785f":function(t,e,n){"use strict";n("99af"),n("fb6a"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("5319");var a=n("0122"),r=/(?:^|[-_/])(\w)/g,o="root",c="anonymous component",i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/,u=function(t){var e=i.exec(t);return e?e.slice(1):[]},s=function(t,e){var n=u(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},l=function(t){if(!t)return c;if(t.$root===t)return o;if(!t.$options)return c;if(t.$options.name)return t.$options.name;if(t.$options._componentTag)return t.$options._componentTag;if(t.$options.__file){var e=t.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),n=s(e,".vue");return n.replace(r,(function(t,e){return e?e.toUpperCase():""}))}return c},f=function t(e,n,r,o,c,i){var u=0;for(var s in n){if(u+=1,u>i)break;"object"==Object(a["a"])(n[s])?c>o&&t(e,n[s],r+"."+s,o+1,c,i):e[r+"."+s]=n[s]}},p=function(t){var e=t.config.errorHandler;t.config.errorHandler=function(n,a,r){if(window.Sentry){var o={},c=a;if(a._original&&(c=a._original),c)try{o.componentName=l(c),f(o,JSON.parse(JSON.stringify(c.$options.propsData)),"props",0,2,10)}catch(i){console.log("Unable to extract metadata from Vue component.")}r&&(o.lifecycleHook=r),setTimeout((function(){window.Sentry.getCurrentHub().withScope((function(t){t.setContext("vue",o),window.Sentry.getCurrentHub().captureException(n)}))}))}"function"===typeof e&&e.call(t,n,a,r),t.util&&t.util.warn("Error in ".concat(r,': "').concat(n.toString(),'"'),a),console.error(n)}};e["a"]=p},"90b9":function(t,e,n){"use strict";function a(){try{var t="__random_key_we_are_not_going_to_use__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}}n.d(e,"a",(function(){return a}))},ad56:function(t,e,n){},e345:function(t,e,n){"use strict";var a=n("ad56"),r=n.n(a);r.a},f357:function(t,e,n){"use strict";var a=n("f3f3"),r=n("a026"),o=n("5886"),c=n("3c33"),i=function(t,e,n){var o=document.createElement("div"),c=new r["default"]({render:function(n){return n(t,{props:e})}}).$mount(o);return r["default"].swal(Object(a["a"])(Object(a["a"])({},n),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(t){t.querySelector("#replace-here").replaceWith(c.$el)},onDestroy:function(){c.$destroy(),o.remove()}}))},u=function(t,e,n){return r["default"].swal(Object(a["a"])(Object(a["a"])({},n),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(e){e.querySelector("#replace-here").replaceWith(t)}}))},s=function(t,e){t.use(o["a"],e);var n=t.swal.mixin({title:"Are you sure?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",customClass:{container:"dark-backdrop"}}),r=t.swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3}),s=t.swal.mixin({icon:"error",customClass:{container:"dark-backdrop"}}),l=t.swal.mixin({customClass:{container:"dark-backdrop"}}),f=function(e,n){if(!Object(c["a"])(n,!1)){var r=Object(a["a"])(Object(a["a"])({},e),{},{position:"top-end",confirmButtonText:"Gotcha! Don't show this again."});return t.swal(r).then((function(t){t.value&&(Object(c["b"])(n,!0),console.log(t))}))}};t.prototype.$swal["openModalWithComponent"]=i,t.prototype.$swal["openModalWithElement"]=u,t.prototype.$swal["Confirm"]=n,t.prototype.$swal["Toast"]=r,t.prototype.$swal["DismissableToast"]=f,t.prototype.$swal["Reject"]=s,t.prototype.$swal["Prompt"]=l};e["a"]={install:s}}});
//# sourceMappingURL=octoprint_tunnel.js.map