(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={printer_settings:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/static/frontend/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([5,"chunk-vendors"]),n()})({"0036":function(t,e,n){},"0de8":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),r=n("f357"),i=n("5f5b"),s=n("785f"),o=n("648b"),c=n("e644");Object(o["c"])(),Object(s["a"])(a["default"]),a["default"].use(i["a"]),a["default"].use(r["a"]),document.getElementById("printer-settings-mount")&&new a["default"]({components:{PrinterSettingsPage:c["a"]}}).$mount("#printer-settings-mount")},1807:function(t,e,n){"use strict";n("99af"),n("a15b");var a=n("0b49"),r=n.n(a),i=n("dd61"),s=n.n(i);e["a"]={publicTimelapse:function(){return"/api/v1/publictimelapse/"},printShotFeedback:function(t,e){return"/api/v1/printshotfeedbacks/".concat(t,"/?print_id=").concat(e)},print:function(t){return"/api/v1/prints/".concat(t,"/")},prints:function(){return"/api/v1/prints/"},printsBulkDelete:function(){return"/api/v1/prints/bulk_delete/"},printAlertOverwrite:function(t){return"/api/v1/prints/".concat(t,"/alert_overwrite/")},printers:function(){return"/api/v1/printers/"},printer:function(t){return"/api/v1/printers/".concat(t,"/")},printerAction:function(t,e){return"/api/v1/printers/".concat(t).concat(e)},pubPrinter:function(){return"/api/v1p/printer/"},gcodes:function(t,e){return"/api/v1/gcodes/?page=".concat(t,"&page_size=").concat(e||24)},gcode:function(t){return"/api/v1/gcodes/".concat(t,"/")},tunnelUsage:function(){return"/api/v1/tunnelusage/"},verificationCode:function(){return"/api/v1/onetimeverificationcodes/"},user:function(){return"/api/v1/users/me/"},sharedResources:function(t){return"/api/v1/sharedresources/?"+s()(r()(t),(function(t){return t.join("=")})).join("&")},sharedResource:function(t){return"/api/v1/sharedresources/".concat(t,"/")},printerDiscovery:function(){return"/api/v1/printer_discovery/"},printerControl:function(t){return"/printers/".concat(t,"/control/")},printerWebSocket:function(t){return"/ws/web/".concat(t,"/")},printerSharedWebSocket:function(t){return"/ws/share_token/web/".concat(t,"/")},printerWizard:function(t){return"/printers/wizard/?printerId=".concat(t)}}},1853:function(t,e,n){},"3c33":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var a=n("90b9"),r=function(t,e){var n=Object(a["a"])()?localStorage.getItem(t):null,r=n||e;try{return JSON.parse(r)}catch(i){return r}},i=function(t,e){Object(a["a"])()&&localStorage.setItem(t,e)}},4694:function(t,e,n){},"471f":function(t,e,n){"use strict";var a=n("6e31"),r=n.n(a);r.a},5:function(t,e,n){t.exports=n("0de8")},"502a":function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return p})),n.d(e,"a",(function(){return v}));n("caad"),n("2532");var a=n("f3f3"),r=n("c1df"),i=n.n(r),s=n("9b02"),o=n.n(s),c=n("49d5"),l=n.n(c),u=function(t){return t?i()(t):null},d=function(t){return t.ended_at=u(t.cancelled_at||t.finished_at),t.started_at=u(t.started_at),t.uploaded_at=u(t.uploaded_at),t.has_alerts=Boolean(t.alerted_at),t},f=function(t){return t.created_at=u(t.created_at),t.updated_at=u(t.updated_at),t.deleted=u(t.deleted),t.filesize=l()(t.num_bytes),t},p=function(t,e){var n={createdAt:function(){return u(this.created_at)},isOffline:function(){return null===o()(this,"status",null)},isPaused:function(){return o()(this,"status.state.flags.paused",!1)},isIdle:function(){return"Operational"===o()(this,"status.state.text","")},isDisconnected:function(){return o()(this,"status.state.flags.closedOrError",!0)},isPrinting:function(){return!this.isDisconnected()&&"Operational"!==o()(this,"status.state.text","")},inTransientState:function(){return!this.hasError()&&o()(this,"status.state.text","").includes("ing")&&!o()(this,"status.state.text","").includes("Printing")},hasError:function(){return o()(this,"status.state.flags.error")||o()(this,"status.state.text","").toLowerCase().includes("error")},alertUnacknowledged:function(){return o()(this,"current_print.alerted_at")&&i()(o()(this,"current_print.alerted_at")).isAfter(i()(o()(this,"current_print.alert_acknowledged_at")||0))}};return e?(o()(e,"status._ts",-1)>o()(t,"status._ts",o()(e,"status._ts",0))&&delete t.status,Object(a["a"])(Object(a["a"])(Object(a["a"])({},e),t),n)):Object(a["a"])(Object(a["a"])({},t),n)},v=function(t,e,n){var a=Math.round(t.length*e),r=n?"p":"fields.normalized_p";return o()(t[a],"".concat(r),0)}},"648b":function(t,e,n){"use strict";n.d(e,"a",(function(){return q})),n.d(e,"e",(function(){return H})),n.d(e,"b",(function(){return U})),n.d(e,"c",(function(){return V})),n.d(e,"d",(function(){return J}));n("99af"),n("4160"),n("b0c0"),n("d3b7"),n("ac1f"),n("159b"),n("ddb0");var a,r,i,s,o,c,l,u,d,f,p,v,h,m,b,_,g,y,w,O,E,C,k,S,j,x,D,B,T,A,P,$,L,N=n("fc11"),I=n("a026"),M=n("90b9"),q={Light:"Light",Dark:"Dark",System:"System"},W=[{name:"primary-variant",values:(a={},Object(N["a"])(a,q.Light,"#B289F8"),Object(N["a"])(a,q.Dark,"#9A6AEF"),a)},{name:"primary",values:(r={},Object(N["a"])(r,q.Light,"#9965f4"),Object(N["a"])(r,q.Dark,"#A57BEE"),r)},{name:"on-primary",values:(i={},Object(N["a"])(i,q.Light,"#ffffff"),Object(N["a"])(i,q.Dark,"#ffffff"),i)},{name:"secondary",values:(s={},Object(N["a"])(s,q.Light,"#28303A"),Object(N["a"])(s,q.Dark,"#EBEBEB"),s)},{name:"on-secondary",values:(o={},Object(N["a"])(o,q.Light,"#EBEBEB"),Object(N["a"])(o,q.Dark,"#28303A"),o)},{name:"success",values:(c={},Object(N["a"])(c,q.Light,"#5cb85c"),Object(N["a"])(c,q.Dark,"#5cb85c"),c)},{name:"success-variant",values:(l={},Object(N["a"])(l,q.Light,"#4CAE4C"),Object(N["a"])(l,q.Dark,"#4CAE4C"),l)},{name:"on-success",values:(u={},Object(N["a"])(u,q.Light,"#ffffff"),Object(N["a"])(u,q.Dark,"#ffffff"),u)},{name:"danger",values:(d={},Object(N["a"])(d,q.Light,"#d9534f"),Object(N["a"])(d,q.Dark,"#d9534f"),d)},{name:"danger-variant",values:(f={},Object(N["a"])(f,q.Light,"#C2413D"),Object(N["a"])(f,q.Dark,"#C2413D"),f)},{name:"on-danger",values:(p={},Object(N["a"])(p,q.Light,"#ffffff"),Object(N["a"])(p,q.Dark,"#ffffff"),p)},{name:"warning",values:(v={},Object(N["a"])(v,q.Light,"#f0ad4e"),Object(N["a"])(v,q.Dark,"#f0ad4e"),v)},{name:"warning-variant",values:(h={},Object(N["a"])(h,q.Light,"#DB9A3F"),Object(N["a"])(h,q.Dark,"#DB9A3F"),h)},{name:"on-warning",values:(m={},Object(N["a"])(m,q.Light,"#ffffff"),Object(N["a"])(m,q.Dark,"#ffffff"),m)},{name:"on-warning-2",values:(b={},Object(N["a"])(b,q.Light,"#000000"),Object(N["a"])(b,q.Dark,"#000000"),b)},{name:"background",values:(_={},Object(N["a"])(_,q.Light,"#EBEBEB"),Object(N["a"])(_,q.Dark,"#233141"),_)},{name:"surface-primary",values:(g={},Object(N["a"])(g,q.Light,"#ffffff"),Object(N["a"])(g,q.Dark,"#485B71"),g)},{name:"surface-secondary",values:(y={},Object(N["a"])(y,q.Light,"#f5f5f5"),Object(N["a"])(y,q.Dark,"#2D3E4F"),y)},{name:"overlay",values:(w={},Object(N["a"])(w,q.Light,"#f5f5f5"),Object(N["a"])(w,q.Dark,"#000000"),w)},{name:"hover",values:(O={},Object(N["a"])(O,q.Light,"#666666"),Object(N["a"])(O,q.Dark,"#ffffff"),O)},{name:"divider",values:(E={},Object(N["a"])(E,q.Light,"#ABB6C2"),Object(N["a"])(E,q.Dark,"#6A7B8A"),E)},{name:"text-primary",values:(C={},Object(N["a"])(C,q.Light,"#28303A"),Object(N["a"])(C,q.Dark,"#EBEBEB"),C)},{name:"text-secondary",values:(k={},Object(N["a"])(k,q.Light,"#8A94A2"),Object(N["a"])(k,q.Dark,"#AAACB0"),k)},{name:"text-help",values:(S={},Object(N["a"])(S,q.Light,"#4c9be8"),Object(N["a"])(S,q.Dark,"#4c9be8"),S)},{name:"input-background",values:(j={},Object(N["a"])(j,q.Light,"#E2E8ED"),Object(N["a"])(j,q.Dark,"#42566B"),j)},{name:"table-accent-1",values:(x={},Object(N["a"])(x,q.Light,"#E3E3E3"),Object(N["a"])(x,q.Dark,"#27323F"),x)},{name:"table-accent-2",values:(D={},Object(N["a"])(D,q.Light,"#EDEDED"),Object(N["a"])(D,q.Dark,"#1B242E"),D)},{name:"icon-tunneling-1",values:(B={},Object(N["a"])(B,q.Light,"#4e5d6c"),Object(N["a"])(B,q.Dark,"#EAEAEA"),B)},{name:"icon-tunneling-2",values:(T={},Object(N["a"])(T,q.Light,"#1d2935"),Object(N["a"])(T,q.Dark,"#CDCDCD"),T)},{name:"icon-navbar-brand",values:(A={},Object(N["a"])(A,q.Light,"#7B8993"),Object(N["a"])(A,q.Dark,"#ffffff"),A)}],z=[{name:"logo-bg",values:(P={},Object(N["a"])(P,q.Light,'url("/static/img/logo-bg/logo-bg_light.svg")'),Object(N["a"])(P,q.Dark,'url("/static/img/logo-bg/logo-bg_dark.svg")'),P)},{name:"tail-spin",values:($={},Object(N["a"])($,q.Light,'url("/static/img/tail-spin/tail-spin_light.svg")'),Object(N["a"])($,q.Dark,'url("/static/img/tail-spin/tail-spin_dark.svg")'),$)}],F=[{name:"widget",values:(L={},Object(N["a"])(L,q.Light,"0px 3px 30px rgba(0, 0, 0, 0.5)"),Object(N["a"])(L,q.Dark,"0px 3px 30px rgba(0, 0, 0, 0.5)"),L)}];function R(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||console.log("Wrong HEX value!"),[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}var H=I["default"].observable({value:(Object(M["a"])()?localStorage.getItem("colorTheme"):q.Dark)||q.Dark});function U(){return H.value===q.System?"not all"!==window.matchMedia("(prefers-color-scheme)").media&&window.matchMedia("(prefers-color-scheme: light)").matches?q.Light:q.Dark:H.value}function V(){var t=U();W.forEach((function(e){var n=R(e.values[t]);document.documentElement.style.setProperty("--color-".concat(e.name),"".concat(n[0]," ").concat(n[1]," ").concat(n[2]))})),z.forEach((function(e){document.documentElement.style.setProperty("--url-".concat(e.name),e.values[t])})),F.forEach((function(e){document.documentElement.style.setProperty("--shadow-".concat(e.name),e.values[t])}))}function J(t){H.value=t,Object(M["a"])()&&localStorage.setItem("colorTheme",H.value),V()}},"6bb8":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=function(){return""!==JSON.parse(document.querySelector("#app-platform-json").text)["platform"]}},"6e31":function(t,e,n){},"785f":function(t,e,n){"use strict";n("99af"),n("fb6a"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("5319");var a=n("0122"),r=/(?:^|[-_/])(\w)/g,i="root",s="anonymous component",o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/,c=function(t){var e=o.exec(t);return e?e.slice(1):[]},l=function(t,e){var n=c(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},u=function(t){if(!t)return s;if(t.$root===t)return i;if(!t.$options)return s;if(t.$options.name)return t.$options.name;if(t.$options._componentTag)return t.$options._componentTag;if(t.$options.__file){var e=t.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),n=l(e,".vue");return n.replace(r,(function(t,e){return e?e.toUpperCase():""}))}return s},d=function t(e,n,r,i,s,o){var c=0;for(var l in n){if(c+=1,c>o)break;"object"==Object(a["a"])(n[l])?s>i&&t(e,n[l],r+"."+l,i+1,s,o):e[r+"."+l]=n[l]}},f=function(t){var e=t.config.errorHandler;t.config.errorHandler=function(n,a,r){if(window.Sentry){var i={},s=a;if(a._original&&(s=a._original),s)try{i.componentName=u(s),d(i,JSON.parse(JSON.stringify(s.$options.propsData)),"props",0,2,10)}catch(o){console.log("Unable to extract metadata from Vue component.")}r&&(i.lifecycleHook=r),setTimeout((function(){window.Sentry.getCurrentHub().withScope((function(t){t.setContext("vue",i),window.Sentry.getCurrentHub().captureException(n)}))}))}"function"===typeof e&&e.call(t,n,a,r),t.util&&t.util.warn("Error in ".concat(r,': "').concat(n.toString(),'"'),a),console.error(n)}};e["a"]=f},"8ffe":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isInMobile?t._e():n("b-navbar",{class:{"navbar-dark":t.theme===t.themes.Dark,"navbar-light":t.theme===t.themes.Light},attrs:{toggleable:"xl"}},[n("b-container",{staticClass:"p-0"},[n("b-navbar-brand",{attrs:{href:"/"}},[n("svg",{attrs:{viewBox:"0 0 1965 240",width:"232",height:"28.34"}},[n("use",{attrs:{href:"#svg-navbar-brand"}})])]),n("b-navbar-toggle",{attrs:{target:"navbar-toggle-collapse"}},[[n("span",{staticClass:"navbar-toggler-icon"})]],2),n("b-collapse",{attrs:{id:"navbar-toggle-collapse","is-nav":""},model:{value:t.showMainMenu,callback:function(e){t.showMainMenu=e},expression:"showMainMenu"}},[n("b-navbar-nav",[t.user?n("b-nav-item",{class:{active:t.viewName.includes("printers")},attrs:{href:"/printers/"}},[t._v("Printer")]):t._e(),t.user?n("b-nav-item",{class:{active:t.viewName.includes("prints")},attrs:{href:"/prints/"}},[t._v("Time-lapse")]):t._e(),t.user?n("b-nav-item",{class:{active:t.viewName.includes("gcodes")},attrs:{href:"/gcodes/"}},[t._v("G-Code")]):t._e(),t.user?t._e():n("b-nav-item",{staticClass:"glowing",class:{active:"publictimelapse_list"===t.viewName},attrs:{href:"/publictimelapses/"}},[t._v("Spaghetti Gallery")]),t.isEnt?n("b-nav-item",{class:{active:"pricing"===t.viewName},attrs:{href:"/ent/pricing/"}},[t._v("Pricing")]):t._e(),n("b-nav-item",{attrs:{href:"https://www.thespaghettidetective.com/help/"}},[t._v("Help")]),n("b-nav-item",{attrs:{href:"https://discord.gg/hsMwGpD"}},[t._v("Forum")])],1),n("b-navbar-nav",{staticClass:"ml-auto"},[t.user?t._e():n("b-nav-item",{attrs:{href:"/accounts/login/"}},[t._v("Sign In")]),!t.user&&t.allowSignUp?n("b-nav-item",{attrs:{href:"/accounts/signup/"}},[t._v("Sign Up")]):t._e(),t.isEnt&&t.user?n("b-nav-item",{attrs:{href:"/ent/subscription/#detective-hour-balance","link-classes":"badge-btn"}},[n("svg",{attrs:{viewBox:"0 0 384 550",width:"14.66",height:"21"}},[n("use",{attrs:{href:"#svg-detective-hours"}})]),n("span",{staticClass:"badge badge-light",attrs:{id:"user-credits"}},[t._v(t._s(t.dhBadgeNum))]),n("span",{staticClass:"sr-only"},[t._v("Detective Hours")])]):t._e(),t.user?n("b-nav-item-dropdown",{ref:"accountDropdown",attrs:{right:"","toggle-class":"user-menu",text:t.user.first_name||t.user.email}},[n("b-dropdown-item",{attrs:{href:"/user_preferences/"}},[n("i",{staticClass:"fas fa-sliders-h mr-2"}),t._v("Preferences ")]),t.isEnt?n("b-dropdown-item",{attrs:{href:"/ent/subscription/"}},[n("i",{staticClass:"far fa-user-circle mr-2"}),t._v("Account ")]):t._e(),n("b-dropdown-divider"),n("b-dropdown-item",{attrs:{href:"/accounts/logout/"}},[n("i",{staticClass:"fas fa-sign-out-alt mr-2"}),t._v("Log out ")])],1):t._e()],1)],1)],1)],1),n("b-alert",{staticClass:"text-center",attrs:{show:t.needsEmailVerification,variant:"warning"}},[t._v(" You will not get notified by email on print failure, as your primary email address is not verified. "),n("a",{attrs:{href:"/accounts/email/"}},[t._v("Verify your email address.")])])],1)},r=[],i=(n("d3b7"),n("ac1f"),n("3ca3"),n("841c"),n("2ca0"),n("ddb0"),n("2b3d"),n("c1df")),s=n.n(i),o=n("6bb8"),c=n("648b"),l={name:"Navbar",components:{},data:function(){return{user:null,allowSignUp:!1,isEnt:!1,isInMobile:!1,themes:c["a"],showMainMenu:!1}},props:{viewName:{default:function(){return""},type:String}},created:function(){var t=JSON.parse(document.querySelector("#settings-json").text),e=t.ACCOUNT_ALLOW_SIGN_UP,n=t.IS_ENT;this.allowSignUp=!!e,this.isEnt=!!n,this.user=JSON.parse(document.querySelector("#user-json").text),this.isInMobile=Object(o["a"])()||window.location.pathname.startsWith("/mobile/")||"true"===new URLSearchParams(window.location.search).get("inMobile")},computed:{theme:function(){return c["e"].value},dhBadgeNum:function(){return this.user&&this.user.is_dh_unlimited?"∞":Math.round(this.user.dh_balance)},needsEmailVerification:function(){if(!this.user)return!1;var t=s()(this.user.date_joined).isBefore(s()().subtract(15,"days"));return this.isEnt&&!this.user.is_primary_email_verified&&t}},methods:{hideDropdowns:function(){this.showMainMenu=!1;var t=this.$refs.accountDropdown;t&&t.hide()}}},u=l,d=(n("9f5c"),n("2877")),f=Object(d["a"])(u,a,r,!1,null,"dc90225c",null);e["a"]=f.exports},"90b9":function(t,e,n){"use strict";function a(){try{var t="__random_key_we_are_not_going_to_use__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}}n.d(e,"a",(function(){return a}))},"9f5c":function(t,e,n){"use strict";var a=n("d401"),r=n.n(a);r.a},a02b:function(t,e,n){"use strict";var a=n("4694"),r=n.n(a);r.a},b768:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"pullToRevealWrapper",staticClass:"wrapper"},[n("div",[n("div",{staticClass:"pull-to-reveal"},[t.enable?t._t("default"):t._e()],2),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showEdge,expression:"showEdge"}],staticClass:"showing-edge"}),n("div",{staticClass:"spaceholder"})]),n("div",{ref:"staticWrapper"},[t.enable?t._e():t._t("default")],2)])},r=[],i={name:"PullToReveal",props:{showEdge:{default:function(){return!1},type:Boolean},shiftContent:{default:function(){return!0},type:Boolean},enable:{default:function(){return!1},type:Boolean}},data:function(){return{status:"closed",animationTime:.5}},watch:{enable:function(t){t?(this.destroyDisabled(),this.initEnabled()):(this.destroyEnabled(),this.initDisabled())}},mounted:function(){this.enable?this.initEnabled():this.initDisabled()},destroyed:function(){this.enable?this.destroyEnabled():this.destroyDisabled()},methods:{initEnabled:function(){window.addEventListener("scroll",this.handleScroll),document.querySelector("body").style.minHeight="101vh";var t=this.$refs.pullToRevealWrapper.querySelector(".pull-to-reveal"),e=this.$refs.pullToRevealWrapper.querySelector(".spaceholder"),n=this.animationTime;t.style.transition="all ".concat(n,"s"),e.style.transition="all ".concat(n,"s"),0===window.scrollY&&window.scrollBy({top:1,behavior:"smooth"}),window.onload=function(){var e=parseInt(window.getComputedStyle(t).height);t.style.top="-".concat(2*e,"px")}},destroyEnabled:function(){if(window&&window.removeEventListener("scroll",this.handleScroll),document&&(document.querySelector("body").style.minHeight=""),this.$refs.pullToRevealWrapper){var t=this.$refs.pullToRevealWrapper.querySelector(".pull-to-reveal");t.style.transition="none",t.style.top="-999px";var e=this.$refs.pullToRevealWrapper.querySelector(".spaceholder");e.style.transition="none"}},initDisabled:function(){var t=this.$refs.pullToRevealWrapper.querySelector(".showing-edge");t.style.display="none";var e=this.$refs.staticWrapper;e.style.position="absolute",e.style.width="100%",e.style.top="0",e.style.left="0",e.style.zIndex="10",document.querySelector("body").style.paddingTop="56px",window.onload=function(){var t=parseInt(window.getComputedStyle(e).height);document.querySelector("body").style.paddingTop="".concat(t,"px")}},destroyDisabled:function(){var t=this.$refs.pullToRevealWrapper;t&&(t.querySelector(".showing-edge").style.display="block");var e=this.$refs.staticWrapper;e&&(e.style.display="none"),document&&(document.querySelector("body").style.paddingTop=0)},handleScroll:function(){var t=window.pageYOffset,e=this.$refs.pullToRevealWrapper.querySelector(".pull-to-reveal"),n=parseInt(window.getComputedStyle(e).height);if(0===t){if("opened"===this.status)return;e.style.top=0,this.status="opened",this.shiftContent&&(this.$refs.pullToRevealWrapper.querySelector(".spaceholder").style.height="".concat(n,"px"))}else{if("closed"===this.status)return;this.$emit("hide"),e.style.top="-".concat(2*n,"px"),this.status="closed",this.shiftContent&&(this.$refs.pullToRevealWrapper.querySelector(".spaceholder").style.height=0)}}}},s=i,o=(n("cd2f"),n("2877")),c=Object(o["a"])(s,a,r,!1,null,"aef3fa0c",null);e["a"]=c.exports},cb3d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"saving-in-progress":t.savingClass,"successfully-saved":t.savingDoneClass,"failed-to-save":t.savingFailedClass,"small-height":t.smallHeightClass}},[t._t("default"),t.errors&&t.errors.length>0?n("small",{staticClass:"text-danger"},[t._v(t._s(t.errorMsg))]):t._e()],2)},r=[],i=(n("a15b"),{name:"SavingAnimation",data:function(){return{savingTimeout:null,savingDoneTimeout:null}},props:{saving:{default:function(){return!1},type:Boolean},errors:{type:Array},height:{default:function(){return"normal"},type:String}},watch:{saving:function(t,e){var n=this;!e&&t?(this.clearSavingTimeout(),this.savingTimeout=setTimeout(this.clearSavingTimeout,15e3)):e&&!t&&(this.clearSavingTimeout(),this.savingDoneTimeout=setTimeout((function(){clearTimeout(n.savingDoneTimeout),n.savingDoneTimeout=null}),2e3))}},computed:{savingClass:function(){return this.saving&&this.savingTimeout},savingDoneClass:function(){return!this.saving&&this.savingDoneTimeout&&!this.errors},savingFailedClass:function(){return!this.saving&&this.savingDoneTimeout&&this.errors&&this.errors.length>0},smallHeightClass:function(){return"small"===this.height},errorMsg:function(){return this.errors.join(" ")}},methods:{clearSavingTimeout:function(){this.savingTimeout&&(clearTimeout(this.savingTimeout),this.savingTimeout=null)}}}),s=i,o=(n("471f"),n("2877")),c=Object(o["a"])(s,a,r,!1,null,"64ab9070",null);e["a"]=c.exports},cd2f:function(t,e,n){"use strict";var a=n("1853"),r=n.n(a);r.a},d401:function(t,e,n){},e644:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-content-center"},[n("pull-to-reveal",[n("navbar",{attrs:{"view-name":"app.views.web_views.edit_printer"}})],1),n("div",{staticClass:"col-sm-11 col-md-10 col-lg-8"},[t.printer?n("div",{staticClass:"form-container"},[n("section",{staticClass:"settings"},[n("h2",{staticClass:"section-title"},[t._v("Settings")]),n("div",{staticClass:"form-group mb-4 mt-4"},[n("div",{staticClass:"form-label text-muted mb-2"},[t._v("Give your shiny new printer a name")]),n("saving-animation",{attrs:{errors:t.errorMessages.name,saving:t.saving.name}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.printer.name,expression:"printer.name"}],staticClass:"form-control field_required",attrs:{id:"id_name",type:"text",name:"name",maxlength:"200",placeholder:"",required:"required"},domProps:{value:t.printer.name},on:{input:function(e){e.target.composing||t.$set(t.printer,"name",e.target.value)}}})])],1),n("div",{staticClass:"failure-notification"},[n("div",{staticClass:"form-group mt-4 mb-4"},[n("div",{staticClass:"form-label text-muted"},[t._v("When a potential failure is detected:")]),n("saving-animation",{attrs:{errors:t.errorMessages.action_on_failure_NONE,saving:t.saving.action_on_failure_NONE}},[n("div",{staticClass:"custom-control custom-radio mt-1 radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.printer.action_on_failure,expression:"printer.action_on_failure"}],staticClass:"custom-control-input field_required",attrs:{type:"radio",name:"action_on_failure",id:"id_action_on_failure_0",value:"NONE"},domProps:{checked:t._q(t.printer.action_on_failure,"NONE")},on:{change:[function(e){return t.$set(t.printer,"action_on_failure","NONE")},function(e){return t.updateSetting("action_on_failure")}]}}),n("label",{staticClass:"custom-control-label",attrs:{for:"id_action_on_failure_0"}},[t._v("Just notify me")])])]),n("saving-animation",{attrs:{errors:t.errorMessages.action_on_failure_PAUSE,saving:t.saving.action_on_failure_PAUSE}},[n("div",{staticClass:"custom-control custom-radio mt-1 radio",attrs:{id:"action_on_failure_PAUSE"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.printer.action_on_failure,expression:"printer.action_on_failure"}],staticClass:"custom-control-input field_required",attrs:{type:"radio",name:"action_on_failure",id:"id_action_on_failure_1",value:"PAUSE"},domProps:{checked:t._q(t.printer.action_on_failure,"PAUSE")},on:{change:[function(e){return t.$set(t.printer,"action_on_failure","PAUSE")},function(e){return t.updateSetting("action_on_failure")}]}}),n("label",{staticClass:"custom-control-label",attrs:{for:"id_action_on_failure_1"}},[t._v("Pause the printer and notify me")])])])],1)])]),n("section",{staticClass:"mt-5"},[n("h2",{staticClass:"section-title"},[t._v("Failure Detection")]),n("div",{staticClass:"card-body p-0 pt-3"},[t._m(0),n("div",{staticClass:"form-group mt-4"},[n("div",{staticClass:"form-label text-muted"},[t._v("When print is paused,")]),n("saving-animation",{attrs:{errors:t.errorMessages.tools_off_on_pause,saving:t.saving.tools_off_on_pause}},[n("div",{staticClass:"custom-control custom-checkbox form-check-inline mt-2 checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.printer.tools_off_on_pause,expression:"printer.tools_off_on_pause"}],staticClass:"custom-control-input",attrs:{type:"checkbox",name:"tools_off_on_pause",id:"id_tools_off_on_pause"},domProps:{checked:Array.isArray(t.printer.tools_off_on_pause)?t._i(t.printer.tools_off_on_pause,null)>-1:t.printer.tools_off_on_pause},on:{change:[function(e){var n=t.printer.tools_off_on_pause,a=e.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);a.checked?s<0&&t.$set(t.printer,"tools_off_on_pause",n.concat([i])):s>-1&&t.$set(t.printer,"tools_off_on_pause",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.printer,"tools_off_on_pause",r)},function(e){return t.updateSetting("tools_off_on_pause")}]}}),n("label",{staticClass:"custom-control-label",attrs:{for:"id_tools_off_on_pause"}},[t._v(" Turn off hotend heater(s) ")])])]),n("saving-animation",{attrs:{errors:t.errorMessages.bed_off_on_pause,saving:t.saving.bed_off_on_pause}},[n("div",{staticClass:"custom-control custom-checkbox form-check-inline mt-2 checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.printer.bed_off_on_pause,expression:"printer.bed_off_on_pause"}],staticClass:"custom-control-input",attrs:{type:"checkbox",name:"bed_off_on_pause",id:"id_bed_off_on_pause"},domProps:{checked:Array.isArray(t.printer.bed_off_on_pause)?t._i(t.printer.bed_off_on_pause,null)>-1:t.printer.bed_off_on_pause},on:{change:[function(e){var n=t.printer.bed_off_on_pause,a=e.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);a.checked?s<0&&t.$set(t.printer,"bed_off_on_pause",n.concat([i])):s>-1&&t.$set(t.printer,"bed_off_on_pause",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.printer,"bed_off_on_pause",r)},function(e){return t.updateSetting("bed_off_on_pause")}]}}),n("label",{staticClass:"custom-control-label",attrs:{for:"id_bed_off_on_pause"}},[t._v(" Turn off bed heater ")])])]),n("saving-animation",{staticClass:"mobile-full-width",attrs:{errors:t.errorMessages.retract_on_pause,saving:t.saving.retract_on_pause}},[n("div",{staticClass:"form-inline my-1 checkbox-with-input"},[n("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.retractFilamentByEnabled,expression:"retractFilamentByEnabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"retract-checkbox"},domProps:{checked:Array.isArray(t.retractFilamentByEnabled)?t._i(t.retractFilamentByEnabled,null)>-1:t.retractFilamentByEnabled},on:{change:function(e){var n=t.retractFilamentByEnabled,a=e.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);a.checked?s<0&&(t.retractFilamentByEnabled=n.concat([i])):s>-1&&(t.retractFilamentByEnabled=n.slice(0,s).concat(n.slice(s+1)))}else t.retractFilamentByEnabled=r}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"retract-checkbox"}},[t._v("Retract filament by")])]),n("number-input",{attrs:{step:.5,disable:!t.retractFilamentByEnabled},model:{value:t.retractOnPause,callback:function(e){t.retractOnPause=e},expression:"retractOnPause"}})],1)]),n("saving-animation",{staticClass:"mobile-full-width",attrs:{errors:t.errorMessages.lift_z_on_pause,saving:t.saving.lift_z_on_pause}},[n("div",{staticClass:"form-inline my-1 checkbox-with-input"},[n("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.liftExtruderByEnabled,expression:"liftExtruderByEnabled"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"lift-z-checkbox"},domProps:{checked:Array.isArray(t.liftExtruderByEnabled)?t._i(t.liftExtruderByEnabled,null)>-1:t.liftExtruderByEnabled},on:{change:function(e){var n=t.liftExtruderByEnabled,a=e.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);a.checked?s<0&&(t.liftExtruderByEnabled=n.concat([i])):s>-1&&(t.liftExtruderByEnabled=n.slice(0,s).concat(n.slice(s+1)))}else t.liftExtruderByEnabled=r}}}),n("label",{staticClass:"custom-control-label",attrs:{for:"lift-z-checkbox"}},[t._v("Lift extruder along Z axis by")])]),n("number-input",{attrs:{step:.5,disable:!t.liftExtruderByEnabled},model:{value:t.liftExtruderBy,callback:function(e){t.liftExtruderBy=e},expression:"liftExtruderBy"}})],1)])],1),n("div",{staticClass:"form-group sensitivity my-4"},[n("div",{staticClass:"form-label text-muted"},[t._v("How sensitive do you want the Detective to be on this printer?")]),n("saving-animation",{attrs:{errors:t.errorMessages.detective_sensitivity,saving:t.saving.detective_sensitivity}},[n("div",{staticClass:"my-2 sensitivity-slider"},[n("input",{attrs:{id:"id_sensitivity",name:"detective_sensitivity","data-slider-id":"sensitivity-slider",type:"text","data-slider-min":"0.8","data-slider-max":"1.2","data-slider-step":"0.05","data-slider-value":t.printer.detective_sensitivity}})])]),n("div",{staticClass:"hint-low"},[t._v(" Low - I don't want a lot of false alarms. Only alert me when you are absolutely sure. ")]),n("div",{staticClass:"hint-medium"},[t._v(" Medium - A few false alarms won't bother me. But some well-disguised spaghetti will be missed. ")]),n("div",{staticClass:"hint-high"},[t._v(" High - Hit me with all the false alarms. I want to catch as many failures as possible. ")])],1)])]),n("section",{staticClass:"danger mt-5"},[n("h2",{staticClass:"section-title"},[t._v("Danger Zone")]),n("div",{staticClass:"mt-4"},[n("a",{staticClass:"btn btn-outline-secondary",attrs:{href:t.printerWizardUrl}},[t._v(" Re-Link OctoPrint ")]),t._m(1)]),n("div",{staticClass:"mt-4"},[n("button",{staticClass:"btn btn-outline-danger",on:{click:t.deletePrinter}},[t._v(" Delete Printer ")]),t._m(2)])])]):n("div",{staticClass:"text-center"},[n("b-spinner",{staticClass:"mt-5",attrs:{label:"Loading..."}})],1)])],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"text-warning"},[n("i",{staticClass:"fas fa-exclamation-triangle"}),t._v(" If you are not sure about the settings below, leave the default values to minimize surprises. ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-muted mt-1"},[n("small",[t._v('If your OctoPrint is always showing as "offline", and you have gone through '),n("a",{attrs:{href:"https://www.thespaghettidetective.com/docs/octoprint-is-offline/"}},[t._v("all the trouble-shooting steps")]),t._v(", you can try to re-link OctoPrint as the last resort.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-muted mt-1"},[n("small",[t._v("Bye-bye printer. See you next time!")])])}],i=(n("99af"),n("4160"),n("fb6a"),n("b0c0"),n("0122")),s=n("fc11"),o=n("bc3a"),c=n.n(o),l=n("6625"),u=n.n(l),d=n("3a2b"),f=n.n(d),p=(n("2ba8"),n("502a")),v=n("1807"),h=n("cb3d"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group input-group-sm input-wrapper"},[n("div",{staticClass:"input-group-prepend"},[n("button",{staticClass:"btn btn-outline-secondary control-button",attrs:{type:"button",disabled:t.disable},on:{click:function(e){t.inputValue=t.inputValue>0?Math.round(10*(t.inputValue-t.step))/10:0,t.$emit("input",t.inputValue)}}},[t._v("↓")])]),n("input",{staticClass:"form-control text-center field_required",style:{opacity:t.disable?.3:1},attrs:{type:"text",disabled:"","aria-describedby":"basic-addon1"},domProps:{value:t.inputValue+" mm"}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-secondary control-button",attrs:{type:"button",disabled:t.disable},on:{click:function(e){t.inputValue=Math.round(10*(t.inputValue+t.step))/10,t.$emit("input",t.inputValue)}}},[t._v("↑")])])])},b=[],_=(n("a9e3"),{name:"NumberInput",props:{value:{type:Number,default:0},step:{type:Number,default:.5},disable:{type:Boolean,default:!1}},data:function(){return{inputValue:this.value}},watch:{value:function(t){this.inputValue=t}}}),g=_,y=(n("a02b"),n("2877")),w=Object(y["a"])(g,m,b,!1,null,"0d181e8e",null),O=w.exports,E=n("b768"),C=n("8ffe"),k={components:{SavingAnimation:h["a"],NumberInput:O,PullToReveal:E["a"],Navbar:C["a"]},data:function(){return{printer:null,printerId:"",saving:{},errorMessages:{},delayedSubmit:{name:{delay:1e3,timeoutId:null},retract_on_pause:{delay:1e3,timeoutId:null},lift_z_on_pause:{delay:1e3,timeoutId:null}}}},computed:{retractFilamentByEnabled:{get:function(){return this.printer.retract_on_pause>0},set:function(t){this.printer.retract_on_pause=t?6.5:0,this.updateSetting("retract_on_pause")}},retractOnPause:{get:function(){return this.printer?this.printer.retract_on_pause:void 0},set:function(t){this.printer&&(this.printer.retract_on_pause=t)}},liftExtruderByEnabled:{get:function(){return this.printer.lift_z_on_pause>0},set:function(t){this.printer.lift_z_on_pause=t?2.5:0,this.updateSetting("lift_z_on_pause")}},liftExtruderBy:{get:function(){return this.printer?this.printer.lift_z_on_pause:void 0},set:function(t){this.printer&&(this.printer.lift_z_on_pause=t)}},printerWizardUrl:function(){return v["a"].printerWizard(this.printer.id)},printerName:{get:function(){return this.printer?this.printer.name:void 0},set:function(t){this.printer.name=t}}},watch:{printerName:function(t,e){void 0!==e&&this.updateSetting("name")},retractOnPause:function(t,e){void 0!==e&&this.changeRetractOnPause(t)},liftExtruderBy:function(t,e){void 0!==e&&this.changeLiftExtruderBy(t)}},created:function(){var t=this;this.printerId=u()(window.location.pathname,"/").slice(-2,-1).pop(),this.fetchPrinter().then((function(){var e=new f.a("#id_sensitivity",{formatter:function(t){return t<.95?"Low":t>1.05?"High":"Medium"}});e.on("slideStop",t.saveSensitivity),e.on("change",t.updateSensitivityHint),t.updateSensitivityHint()}))},mounted:function(){},methods:{fetchPrinter:function(){var t=this;return c.a.get(v["a"].printer(this.printerId)).then((function(e){t.printer=Object(p["d"])(e.data,t.printer)}))},patchPrinter:function(t,e){var n=this,a=this.getSettingsItemInput(t,e);return this.setSavingStatus(a,!0),c.a.patch(v["a"].printer(this.printerId),Object(s["a"])({},t,e)).catch((function(t){if(t.response&&t.response.data&&"object"===Object(i["a"])(t.response.data))if(t.response.data.non_field_errors)n.errorAlert(t.response.data.non_field_errors);else for(var e in t.response.data)n.errorMessages[a]=t.response.data[e];else n.errorAlert()})).then((function(){n.setSavingStatus(a,!1)}))},errorAlert:function(){this.$swal.Toast.fire({icon:"error",html:'<div>Can not update printer settings.</div><div>Get help from <a href="https://discord.com/invite/NcZkQfj">TSD discussion forum</a> if this error persists.</div>'})},updateSetting:function(t){var e=this;if(t in this.delayedSubmit){var n=this.delayedSubmit[t];return n["timeoutId"]&&clearTimeout(n["timeoutId"]),void(this.delayedSubmit[t]["timeoutId"]=setTimeout((function(){e.patchPrinter(t,e.printer[t])}),n["delay"]))}this.patchPrinter(t,this.printer[t])},saveSensitivity:function(t){this.printer.detective_sensitivity=t,this.updateSetting("detective_sensitivity")},updateSensitivityHint:function(){var t=document.querySelectorAll(".sensitivity div[class^=hint]");[].forEach.call(t,(function(t){t.style.display="none"}));var e=parseFloat(document.querySelector("#id_sensitivity").value);e<.95?document.querySelector(".sensitivity .hint-low").style.display="block":e>1.05?document.querySelector(".sensitivity .hint-high").style.display="block":document.querySelector(".sensitivity .hint-medium").style.display="block"},deletePrinter:function(){var t=this;this.$swal.Confirm.fire().then((function(e){e.value&&(window.location.href="/printers/".concat(t.printerId,"/delete/"))}))},getSettingsItemInput:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(t){case"action_on_failure":return"".concat(t,"_").concat(e);default:return"".concat(t)}},setSavingStatus:function(t,e){e&&delete this.errorMessages[t],this.$set(this.saving,t,e)},changeRetractOnPause:function(t){this.printer.retract_on_pause=t,this.updateSetting("retract_on_pause")},changeLiftExtruderBy:function(t){this.printer.lift_z_on_pause=t,this.updateSetting("lift_z_on_pause")}}},S=k,j=(n("e7b4"),Object(y["a"])(S,a,r,!1,null,"3f480c33",null));e["a"]=j.exports},e7b4:function(t,e,n){"use strict";var a=n("0036"),r=n.n(a);r.a},f357:function(t,e,n){"use strict";var a=n("f3f3"),r=n("a026"),i=n("5886"),s=n("3c33"),o=function(t,e,n){var i=document.createElement("div"),s=new r["default"]({render:function(n){return n(t,{props:e})}}).$mount(i);return r["default"].swal(Object(a["a"])(Object(a["a"])({},n),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(t){t.querySelector("#replace-here").replaceWith(s.$el)},onDestroy:function(){s.$destroy(),i.remove()}}))},c=function(t,e,n){return r["default"].swal(Object(a["a"])(Object(a["a"])({},n),{},{customClass:{container:"dark-backdrop"},html:'<div id="replace-here">Placeholder</div>',onBeforeOpen:function(e){e.querySelector("#replace-here").replaceWith(t)}}))},l=function(t,e){t.use(i["a"],e);var n=t.swal.mixin({title:"Are you sure?",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",customClass:{container:"dark-backdrop"}}),r=t.swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3}),l=t.swal.mixin({icon:"error",customClass:{container:"dark-backdrop"}}),u=t.swal.mixin({customClass:{container:"dark-backdrop"}}),d=function(e,n){if(!Object(s["a"])(n,!1)){var r=Object(a["a"])(Object(a["a"])({},e),{},{position:"top-end",confirmButtonText:"Gotcha! Don't show this again."});return t.swal(r).then((function(t){t.value&&(Object(s["b"])(n,!0),console.log(t))}))}};t.prototype.$swal["openModalWithComponent"]=o,t.prototype.$swal["openModalWithElement"]=c,t.prototype.$swal["Confirm"]=n,t.prototype.$swal["Toast"]=r,t.prototype.$swal["DismissableToast"]=d,t.prototype.$swal["Reject"]=l,t.prototype.$swal["Prompt"]=u};e["a"]={install:l}}});
//# sourceMappingURL=printer_settings.js.map