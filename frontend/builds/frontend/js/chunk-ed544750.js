(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed544750"],{d226:function(t,e,r){!function(e,r){t.exports=r()}(window,(function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var i={name:"vue-telegram-login",props:{mode:{type:String,required:!0,validator:function(t){return["callback","redirect"].includes(t)}},telegramLogin:{type:String,required:!0,validator:function(t){return t.endsWith("bot")||t.endsWith("Bot")}},redirectUrl:{type:String,default:""},requestAccess:{type:String,default:"read",validator:function(t){return["read","write"].includes(t)}},size:{type:String,default:"large",validator:function(t){return["small","medium","large"].includes(t)}},userpic:{type:Boolean,default:!0},radius:{type:String}},methods:{onTelegramAuth:function(t){this.$emit("callback",t)}},mounted:function(){var t=document.createElement("script");t.async=!0,t.src="https://telegram.org/js/telegram-widget.js?3",t.setAttribute("data-size",this.size),t.setAttribute("data-userpic",this.userpic),t.setAttribute("data-telegram-login",this.telegramLogin),t.setAttribute("data-request-access",this.requestAccess),this.radius&&t.setAttribute("data-radius",this.radius),"callback"===this.mode?(window.onTelegramAuth=this.onTelegramAuth,t.setAttribute("data-onauth","window.onTelegramAuth(user)")):t.setAttribute("data-auth-url",this.redirectUrl),this.$refs.telegram.appendChild(t)}},n=function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"telegram"})};n._withStripped=!0;var a=function(t,e,r,i,n,a,o,s){var l=typeof(t=t||{}).default;"object"!==l&&"function"!==l||(t=t.default);var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),i&&(u.functional=!0),a&&(u._scopeId=a),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):n&&(c=s?function(){n.call(this,this.$root.$options.shadowRoot)}:n),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(t,e){return c.call(e),d(t,e)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,c):[c]}return{exports:t,options:u}}(i,n,[],!1,null,null,null);a.options.__file="src/vue-telegram-login.vue";var o=a.exports;r.d(e,"vueTelegramLogin",(function(){return o}))}])}))},f82a:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.config.telegramBotName?r("section",{staticClass:"telegram"},[r("h2",{staticClass:"section-title"},[t._v("Telegram")]),r("small",{staticClass:"form-text text-muted"},[t._v(" Login to be notified by our Telegram bot. ")]),r("br"),r("div",{staticClass:"form-group row"},[t.user.telegram_chat_id?r("div",[r("div",{staticClass:"col-md-50"},[r("div",{staticClass:"btn btn-sm btn-primary float-left mr-2",attrs:{id:"id_telegram_logout_btn"},on:{click:t.onTelegramLogout}},[t._v("Unlink Telegram")]),r("div",{staticClass:"btn btn-sm btn-primary float-left",attrs:{id:"id_telegram_test_btn"},on:{click:function(e){return t.onTelegramTest(e)}}},[t._v("Test Telegram Notification")])])]):r("div",[r("vue-telegram-login",{attrs:{mode:"callback","telegram-login":t.config.telegramBotName,"request-access":"write"},on:{callback:t.onTelegramAuth}})],1)]),r("div",{staticClass:"form-group row"},[r("div",{staticClass:"col-md-10 offset-md-2 col-sm-9 offset-sm-3 col-form-label"},[r("saving-animation",{attrs:{errors:t.errorMessages.print_notification_by_telegram,saving:t.saving.print_notification_by_telegram}},[r("div",{staticClass:"custom-control custom-checkbox form-check-inline"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.user.print_notification_by_telegram,expression:"user.print_notification_by_telegram"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"id_print_notification_by_telegram"},domProps:{checked:Array.isArray(t.user.print_notification_by_telegram)?t._i(t.user.print_notification_by_telegram,null)>-1:t.user.print_notification_by_telegram},on:{change:[function(e){var r=t.user.print_notification_by_telegram,i=e.target,n=!!i.checked;if(Array.isArray(r)){var a=null,o=t._i(r,a);i.checked?o<0&&t.$set(t.user,"print_notification_by_telegram",r.concat([a])):o>-1&&t.$set(t.user,"print_notification_by_telegram",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.user,"print_notification_by_telegram",n)},function(e){return t.$emit("updateSetting","print_notification_by_telegram")}]}}),r("label",{staticClass:"custom-control-label",attrs:{for:"id_print_notification_by_telegram"}},[t._v(" Send print job notifications via Telegram ")])])]),r("small",{staticClass:"text-muted"},[t._v("You will always be alerted via Telegram on print failures.")])],1)])]):t._e()},n=[],a=r("bc3a"),o=r.n(a),s=r("d226"),l=r("847e"),c={name:"TelegramNotifications",components:{SavingAnimation:l["a"],vueTelegramLogin:s["vueTelegramLogin"]},props:{errorMessages:{type:Object,required:!0},saving:{type:Object,required:!0},user:{type:Object,required:!0},config:{type:Object,required:!0}},data:function(){return{twilioEnabled:!1,slackEnabled:!1,pushOverEnabled:!1}},methods:{onTelegramAuth:function(t){this.user.telegram_chat_id=JSON.stringify(t.id),this.$emit("updateSetting","telegram_chat_id")},onTelegramLogout:function(){this.user.telegram_chat_id=null,this.$emit("updateSetting","telegram_chat_id")},onTelegramTest:function(t){var e=this;return t.target.classList.add("disabled"),o.a.post("/test_telegram").then((function(){t.target.classList.add("btn-success")})).catch((function(t){e.$emit("errorAlert","Telegram test failed."),console.log(t)}))}}},u=c,d=r("2877"),m=Object(d["a"])(u,i,n,!1,null,null,null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-ed544750.js.map